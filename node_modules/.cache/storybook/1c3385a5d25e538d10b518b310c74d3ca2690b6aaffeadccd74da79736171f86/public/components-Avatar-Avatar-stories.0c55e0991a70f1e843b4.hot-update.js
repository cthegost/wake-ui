"use strict";
self["webpackHotUpdatewake_ui"]("components-Avatar-Avatar-stories",{

/***/ "./src/components/Avatar/Avatar.tsx":
/*!******************************************!*\
  !*** ./src/components/Avatar/Avatar.tsx ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ "./node_modules/react/jsx-dev-runtime.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _Avatar_css__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Avatar.css */ "./src/components/Avatar/Avatar.css");


 // Импортируем стили
// Функция для получения инициалов из имени
const getInitials = (name)=>{
    if (!name) return '';
    const names = name.trim().split(' ');
    if (names.length === 1) {
        return names[0].charAt(0).toUpperCase();
    }
    return (names[0].charAt(0) + names[names.length - 1].charAt(0)).toUpperCase();
};
// --- Добавляем генерацию цвета --- 
const stringToColor = (str)=>{
    let hash = 0;
    for(let i = 0; i < str.length; i++){
        hash = str.charCodeAt(i) + ((hash << 5) - hash);
        hash = hash & hash; // Convert to 32bit integer
    }
    // Генерируем цвет в формате HSL для лучшего распределения
    const h = hash % 360;
    // Ограничиваем насыщенность и светлоту для получения пастельных тонов
    const s = 60 + hash % 10; // 60-70%
    const l = 75 + hash % 10; // 75-85%
    return `hsl(${h}, ${s}%, ${l}%)`;
};
// ----------------------------------
const Avatar = ({ src = null, alt = 'Avatar', name = '', size = 'medium', shape = 'circle', className, style, ...props // Остальные div атрибуты
 })=>{
    const [imgError, setImgError] = react__WEBPACK_IMPORTED_MODULE_1___default().useState(false); // Состояние ошибки загрузки изображения
    // --- Генерируем цвет фона, если показываем инициалы --- 
    const backgroundColor = !src && name ? stringToColor(name) : undefined;
    // -------------------------------------------------------
    // Определяем, что отображать: изображение, инициалы или плейсхолдер
    let content;
    const showImage = src && !imgError;
    const showInitials = !showImage && name;
    if (showImage) {
        content = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("img", {
            src: src,
            alt: alt,
            className: "avatar-image",
            onError: ()=>setImgError(true)
        }, void 0, false, {
            fileName: "/Users/antonhavkin/Desktop/Проекты/Бизнес проекты/WUI/src/components/Avatar/Avatar.tsx",
            lineNumber: 64,
            columnNumber: 7
        }, undefined);
    } else if (showInitials) {
        content = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("span", {
            className: "avatar-initials",
            "aria-label": alt,
            children: getInitials(name)
        }, void 0, false, {
            fileName: "/Users/antonhavkin/Desktop/Проекты/Бизнес проекты/WUI/src/components/Avatar/Avatar.tsx",
            lineNumber: 73,
            columnNumber: 7
        }, undefined);
    } else {
        // Плейсхолдер (можно вставить SVG иконку пользователя)
        content = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("span", {
            className: "avatar-placeholder",
            "aria-label": alt,
            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("svg", {
                viewBox: "0 0 24 24",
                fill: "currentColor",
                "aria-hidden": "true",
                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("path", {
                    d: "M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"
                }, void 0, false, {
                    fileName: "/Users/antonhavkin/Desktop/Проекты/Бизнес проекты/WUI/src/components/Avatar/Avatar.tsx",
                    lineNumber: 83,
                    columnNumber: 11
                }, undefined)
            }, void 0, false, {
                fileName: "/Users/antonhavkin/Desktop/Проекты/Бизнес проекты/WUI/src/components/Avatar/Avatar.tsx",
                lineNumber: 82,
                columnNumber: 9
            }, undefined)
        }, void 0, false, {
            fileName: "/Users/antonhavkin/Desktop/Проекты/Бизнес проекты/WUI/src/components/Avatar/Avatar.tsx",
            lineNumber: 80,
            columnNumber: 7
        }, undefined);
    }
    const avatarClassName = [
        'avatar-container',
        `avatar--${size}`,
        `avatar--${shape}`,
        className
    ].filter(Boolean).join(' ');
    // --- Объединяем переданные стили со сгенерированным фоном --- 
    const combinedStyle = {
        ...style,
        backgroundColor: backgroundColor || style?.backgroundColor
    };
    // ------------------------------------------------------------
    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
        className: avatarClassName,
        style: combinedStyle,
        ...props,
        children: content
    }, void 0, false, {
        fileName: "/Users/antonhavkin/Desktop/Проекты/Бизнес проекты/WUI/src/components/Avatar/Avatar.tsx",
        lineNumber: 104,
        columnNumber: 5
    }, undefined);
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Avatar);
Avatar.__docgenInfo = {
    "description": "",
    "methods": [],
    "displayName": "Avatar",
    "props": {
        "src": {
            "required": false,
            "tsType": {
                "name": "union",
                "raw": "string | null",
                "elements": [
                    {
                        "name": "string"
                    },
                    {
                        "name": "null"
                    }
                ]
            },
            "description": "",
            "defaultValue": {
                "value": "null",
                "computed": false
            }
        },
        "alt": {
            "required": false,
            "tsType": {
                "name": "string"
            },
            "description": "",
            "defaultValue": {
                "value": "'Avatar'",
                "computed": false
            }
        },
        "name": {
            "required": false,
            "tsType": {
                "name": "string"
            },
            "description": "",
            "defaultValue": {
                "value": "''",
                "computed": false
            }
        },
        "size": {
            "required": false,
            "tsType": {
                "name": "union",
                "raw": "'small' | 'medium' | 'large'",
                "elements": [
                    {
                        "name": "literal",
                        "value": "'small'"
                    },
                    {
                        "name": "literal",
                        "value": "'medium'"
                    },
                    {
                        "name": "literal",
                        "value": "'large'"
                    }
                ]
            },
            "description": "",
            "defaultValue": {
                "value": "'medium'",
                "computed": false
            }
        },
        "shape": {
            "required": false,
            "tsType": {
                "name": "union",
                "raw": "'circle' | 'square'",
                "elements": [
                    {
                        "name": "literal",
                        "value": "'circle'"
                    },
                    {
                        "name": "literal",
                        "value": "'square'"
                    }
                ]
            },
            "description": "",
            "defaultValue": {
                "value": "'circle'",
                "computed": false
            }
        }
    }
};


/***/ })

});
//# sourceMappingURL=components-Avatar-Avatar-stories.0c55e0991a70f1e843b4.hot-update.js.map