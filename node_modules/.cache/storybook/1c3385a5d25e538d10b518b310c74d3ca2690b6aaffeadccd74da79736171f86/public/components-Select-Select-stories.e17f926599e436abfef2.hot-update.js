"use strict";
self["webpackHotUpdatewake_ui"]("components-Select-Select-stories",{

/***/ "./src/components/Select/Select.tsx":
/*!******************************************!*\
  !*** ./src/components/Select/Select.tsx ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ "./node_modules/react/jsx-dev-runtime.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _floating_ui_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @floating-ui/react */ "./node_modules/@floating-ui/react/dist/floating-ui.react.mjs");
/* harmony import */ var _floating_ui_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @floating-ui/react */ "./node_modules/@floating-ui/dom/dist/floating-ui.dom.mjs");
/* harmony import */ var _floating_ui_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @floating-ui/react */ "./node_modules/@floating-ui/react-dom/dist/floating-ui.react-dom.mjs");
/* harmony import */ var _Select_css__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Select.css */ "./src/components/Select/Select.css");



 // Импортируем стили
const Select = ({ options, value, onChange, placeholder = 'Выберите...', label, disabled = false, className })=>{
    const [isOpen, setIsOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
    const [activeIndex, setActiveIndex] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null); // Индекс активного элемента для навигации
    const listRef = react__WEBPACK_IMPORTED_MODULE_1___default().useRef([]); // Ref'ы для элементов списка
    const generatedId = (0,react__WEBPACK_IMPORTED_MODULE_1__.useId)();
    const labelId = label ? `${generatedId}-label` : undefined;
    const listboxId = `${generatedId}-listbox`;
    const { refs, floatingStyles, context } = (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_3__.useFloating)({
        open: isOpen,
        onOpenChange: setIsOpen,
        whileElementsMounted: _floating_ui_react__WEBPACK_IMPORTED_MODULE_4__.autoUpdate,
        placement: 'bottom-start',
        middleware: [
            (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_5__.offset)(4),
            (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_5__.flip)({
                padding: 5
            }),
            (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_5__.size)({
                apply ({ rects, elements }) {
                    Object.assign(elements.floating.style, {
                        width: `${rects.reference.width}px`
                    });
                },
                padding: 5
            })
        ]
    });
    // --- Взаимодействия ---
    const click = (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_3__.useClick)(context);
    const dismiss = (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_3__.useDismiss)(context);
    const role = (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_3__.useRole)(context, {
        role: 'listbox'
    });
    // Навигация по списку (стрелки, Enter, Esc)
    const listNavigation = (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_3__.useListNavigation)(context, {
        listRef,
        activeIndex,
        onNavigate: setActiveIndex,
        virtual: true,
        loop: true
    });
    const { getReferenceProps, getFloatingProps, getItemProps } = (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_3__.useInteractions)([
        click,
        dismiss,
        role,
        listNavigation
    ]);
    // Находим лейбл выбранного значения
    const selectedLabel = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{
        return options.find((option)=>option.value === value)?.label;
    }, [
        options,
        value
    ]);
    // Обработчик выбора опции
    const handleSelect = (optionValue)=>{
        if (optionValue !== null) {
            onChange(optionValue);
            setIsOpen(false);
        }
    };
    const containerClassName = [
        'select-container',
        disabled ? 'select-container--disabled' : '',
        className
    ].filter(Boolean).join(' ');
    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
        className: containerClassName,
        children: [
            label && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("label", {
                id: labelId,
                className: "select-label",
                children: label
            }, void 0, false, {
                fileName: "/Users/antonhavkin/Desktop/Проекты/Бизнес проекты/WUI/src/components/Select/Select.tsx",
                lineNumber: 117,
                columnNumber: 9
            }, undefined),
            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("button", {
                ref: refs.setReference,
                className: "select-button",
                disabled: disabled,
                "aria-labelledby": labelId,
                "aria-haspopup": "listbox",
                "aria-expanded": isOpen,
                "aria-autocomplete": "none",
                ...getReferenceProps(),
                children: [
                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("span", {
                        className: "select-value",
                        children: selectedLabel || /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("span", {
                            className: "select-placeholder",
                            children: placeholder
                        }, void 0, false, {
                            fileName: "/Users/antonhavkin/Desktop/Проекты/Бизнес проекты/WUI/src/components/Select/Select.tsx",
                            lineNumber: 133,
                            columnNumber: 31
                        }, undefined)
                    }, void 0, false, {
                        fileName: "/Users/antonhavkin/Desktop/Проекты/Бизнес проекты/WUI/src/components/Select/Select.tsx",
                        lineNumber: 132,
                        columnNumber: 9
                    }, undefined),
                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("span", {
                        className: "select-arrow",
                        "aria-hidden": "true",
                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("svg", {
                            viewBox: "0 0 16 16",
                            fill: "currentColor",
                            width: "12",
                            height: "12",
                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("path", {
                                d: "M8 11L3 6h10z"
                            }, void 0, false, {
                                fileName: "/Users/antonhavkin/Desktop/Проекты/Бизнес проекты/WUI/src/components/Select/Select.tsx",
                                lineNumber: 137,
                                columnNumber: 79
                            }, undefined)
                        }, void 0, false, {
                            fileName: "/Users/antonhavkin/Desktop/Проекты/Бизнес проекты/WUI/src/components/Select/Select.tsx",
                            lineNumber: 137,
                            columnNumber: 11
                        }, undefined)
                    }, void 0, false, {
                        fileName: "/Users/antonhavkin/Desktop/Проекты/Бизнес проекты/WUI/src/components/Select/Select.tsx",
                        lineNumber: 135,
                        columnNumber: 9
                    }, undefined)
                ]
            }, void 0, true, {
                fileName: "/Users/antonhavkin/Desktop/Проекты/Бизнес проекты/WUI/src/components/Select/Select.tsx",
                lineNumber: 122,
                columnNumber: 7
            }, undefined),
            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_floating_ui_react__WEBPACK_IMPORTED_MODULE_3__.FloatingPortal, {
                children: isOpen && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_floating_ui_react__WEBPACK_IMPORTED_MODULE_3__.FloatingFocusManager, {
                    context: context,
                    modal: false,
                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                        ref: refs.setFloating,
                        style: floatingStyles,
                        className: "select-listbox",
                        role: "listbox",
                        id: listboxId,
                        "aria-labelledby": labelId,
                        ...getFloatingProps(),
                        children: options.map((option, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("div", {
                                ref: (node)=>{
                                    listRef.current[index] = node;
                                },
                                role: "option",
                                className: `select-option ${activeIndex === index ? 'select-option--active' : ''} ${option.value === value ? 'select-option--selected' : ''} ${option.disabled ? 'select-option--disabled' : ''}`,
                                tabIndex: activeIndex === index ? 0 : -1,
                                "aria-selected": activeIndex === index && isOpen || option.value === value,
                                "aria-disabled": option.disabled,
                                ...getItemProps({
                                    // Обработка клика или Enter на опции
                                    onClick: ()=>!option.disabled && handleSelect(option.value),
                                    onKeyDown: (event)=>{
                                        if (event.key === 'Enter' || event.key === ' ') {
                                            if (!option.disabled) handleSelect(option.value);
                                        }
                                    }
                                }),
                                children: [
                                    option.label,
                                    option.value === value && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)("span", {
                                        className: "select-option-checkmark",
                                        "aria-hidden": "true",
                                        children: "✓"
                                    }, void 0, false, {
                                        fileName: "/Users/antonhavkin/Desktop/Проекты/Бизнес проекты/WUI/src/components/Select/Select.tsx",
                                        lineNumber: 176,
                                        columnNumber: 24
                                    }, undefined)
                                ]
                            }, option.value, true, {
                                fileName: "/Users/antonhavkin/Desktop/Проекты/Бизнес проекты/WUI/src/components/Select/Select.tsx",
                                lineNumber: 155,
                                columnNumber: 17
                            }, undefined))
                    }, void 0, false, {
                        fileName: "/Users/antonhavkin/Desktop/Проекты/Бизнес проекты/WUI/src/components/Select/Select.tsx",
                        lineNumber: 145,
                        columnNumber: 13
                    }, undefined)
                }, void 0, false, {
                    fileName: "/Users/antonhavkin/Desktop/Проекты/Бизнес проекты/WUI/src/components/Select/Select.tsx",
                    lineNumber: 144,
                    columnNumber: 11
                }, undefined)
            }, void 0, false, {
                fileName: "/Users/antonhavkin/Desktop/Проекты/Бизнес проекты/WUI/src/components/Select/Select.tsx",
                lineNumber: 142,
                columnNumber: 7
            }, undefined)
        ]
    }, void 0, true, {
        fileName: "/Users/antonhavkin/Desktop/Проекты/Бизнес проекты/WUI/src/components/Select/Select.tsx",
        lineNumber: 114,
        columnNumber: 5
    }, undefined);
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Select);
Select.__docgenInfo = {
    "description": "",
    "methods": [],
    "displayName": "Select",
    "props": {
        "options": {
            "required": true,
            "tsType": {
                "name": "Array",
                "elements": [
                    {
                        "name": "SelectOption"
                    }
                ],
                "raw": "SelectOption[]"
            },
            "description": ""
        },
        "value": {
            "required": true,
            "tsType": {
                "name": "union",
                "raw": "string | number | null",
                "elements": [
                    {
                        "name": "string"
                    },
                    {
                        "name": "number"
                    },
                    {
                        "name": "null"
                    }
                ]
            },
            "description": ""
        },
        "onChange": {
            "required": true,
            "tsType": {
                "name": "signature",
                "type": "function",
                "raw": "(value: string | number | null) => void",
                "signature": {
                    "arguments": [
                        {
                            "type": {
                                "name": "union",
                                "raw": "string | number | null",
                                "elements": [
                                    {
                                        "name": "string"
                                    },
                                    {
                                        "name": "number"
                                    },
                                    {
                                        "name": "null"
                                    }
                                ]
                            },
                            "name": "value"
                        }
                    ],
                    "return": {
                        "name": "void"
                    }
                }
            },
            "description": ""
        },
        "placeholder": {
            "required": false,
            "tsType": {
                "name": "string"
            },
            "description": "",
            "defaultValue": {
                "value": "'Выберите...'",
                "computed": false
            }
        },
        "label": {
            "required": false,
            "tsType": {
                "name": "string"
            },
            "description": ""
        },
        "disabled": {
            "required": false,
            "tsType": {
                "name": "boolean"
            },
            "description": "",
            "defaultValue": {
                "value": "false",
                "computed": false
            }
        },
        "className": {
            "required": false,
            "tsType": {
                "name": "string"
            },
            "description": ""
        }
    }
};


/***/ })

});
//# sourceMappingURL=components-Select-Select-stories.e17f926599e436abfef2.hot-update.js.map